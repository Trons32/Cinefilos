<!DOCTYPE html>
<html>
<head>
  <title>Side Menu</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="../../css/estilo.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="side-menu">
    <ul>
      <label for="" style="font-size: 25px;  font-weight: bold; " >CINEFILOS <i class="bi bi-camera-reels-fill" style="margin-left: 5px;"></i></label>  
        <hr>

       <label for=""  style="margin-left: 50px; font-family: 'Times New Roman', Times, serif;" >Gerente</label>

        <hr>
      <li><i class="bi bi-house"></i> <a href="index.html">Inicio</a></li>
      <li><i class="bi bi-building-fill-add"></i> <a href="sucursales.html">Sucursales</a></li>
      <li><i class="bi bi-shop-window"></i> <a href="compra.html">Compras de Peliculas</a></li>
      <li class="active" ><i class="bi bi-graph-up"></i> <a href="estadistica.html">Estadisticas</a></li>


      <div style="margin: 50px 30px;"  >
        <a href="../../index.html" class="btn btn-outline-primary p-2" >Cerrar Sesion</a>
      </div>

    </ul>
  </div>

  <div class="content">

    <div class="container">

      <div class="text-center mt- mb-5">
        <h2>Estadisticas de clientes por Barrios</h2>
  
    </div>

      <div class="row mt-5 mb-2">
        <div class="col-md-2">
          <div style="display: flex; align-items: center;">
            <label for="year" style="margin-right: 5px;">Año:</label>
            <select class="form-select" id="year" onchange="updateChart()">
              <option value="2021">2021</option>
              <option value="2022">2022</option>
              <option value="2023">2023</option>
            </select>
          </div>
        </div>
        <div class="col-md-2">
          <div style="display: flex; align-items: center;">
            <label for="month" style="margin-right: 5px;">Mes:</label>
            <select class="form-select" id="month" onchange="updateChart()">
              <option value="1">Enero</option>
              <option value="2">Febrero</option>
              <option value="3">Marzo</option>
              <!-- Agrega más opciones para los meses restantes -->
            </select>
          </div>
        </div>
      </div>
    </div>
    
      <canvas id="barChart"></canvas>
    
      <script>
        // Datos iniciales del gráfico
        var initialYear = 2021;
        var initialMonth = 1;
        var data = getData(initialYear, initialMonth);
    
        // Configuración del gráfico
        var options = {
          responsive: true,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "Cantidad de Clientes",
              },
            },
          },
        };
    
        // Crear el gráfico de barras inicial
        var ctx = document.getElementById("barChart").getContext("2d");
        var myChart = new Chart(ctx, {
          type: "bar",
          data: data,
          options: options,
        });
    
        // Función para obtener los datos del gráfico según el año y el mes seleccionados
        function getData(year, month) {
          // Aquí debes reemplazar este código con tu lógica para obtener los datos correspondientes
          var labels = ["Barrio 1", "Barrio 2", "Barrio 3", "Barrio 4", "Barrio 5"];
          var data = [15, 10, 8, 12, 20];
    
          return {
            labels: labels,
            datasets: [
              {
                label: "clientes por Barrios",
                backgroundColor: "rgba(75, 192, 192, 0.2)",
                borderColor: "rgba(75, 192, 192, 1)",
                borderWidth: 1,
                data: data,
              },
            ],
          };
        }
    
        // Función para actualizar el gráfico cuando cambia el año o el mes seleccionado
        function updateChart() {
          var selectedYear = parseInt(document.getElementById("year").value);
          var selectedMonth = parseInt(document.getElementById("month").value);
          var newData = getData(selectedYear, selectedMonth);
    
          myChart.data = newData;
          myChart.update();
      }
      </script>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>